(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"2IPJ":function(t,e,a){"use strict";var n={name:"i-content",props:{spinShow:{type:Boolean,default:!0}}},r=(a("CvB1"),a("KHd+")),s=Object(r.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-wrapper"},[this._t("default"),this._v(" "),this.spinShow?e("Spin",{attrs:{size:"large",fix:""}}):this._e()],2)},[],!1,null,"29a77876",null);e.a=s.exports},"2t7w":function(t,e,a){var n=a("STZu");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},"3Q9P":function(t,e,a){"use strict";e.a={methods:{validate:function(t){var e=this;return new Promise(function(a,n){e.$refs[t].validate(function(t){t?a():n()})})}}}},"5Q8M":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n.modal-body[data-v-e3944ca2] {\n    height: calc(100% - 53px);\n    overflow-y: auto;\n    margin-right: -16px;\n    padding-right: 16px;\n}\n.compon-drawer-footer[data-v-e3944ca2]{\n    border-top: 1px solid #e8e8e8;\n    padding: 10px 16px;\n    text-align: right;\n    background: #fff;\n}\n.compon-drawer-footer *[data-v-e3944ca2]{\n    text-align: right;\n}\n",""])},"5nZK":function(t,e,a){"use strict";var n=a("I3AI");a.n(n).a},"7B4Y":function(t,e,a){var n=a("B1IJ");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},B1IJ:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".express_details-box .express_details-title[data-v-c515d694]{margin-bottom:30px;text-align:center}.express_details-box .express_details-city[data-v-c515d694]{text-align:center}.express_details-box .areas-lists[data-v-c515d694]{padding:0 5px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}.express_details-box .ivu-form-item[data-v-c515d694]{height:32px}.express_details-box .item-required[data-v-c515d694]{display:inline-block;margin-right:4px;line-height:1;font-family:SimSun;font-size:12px;color:#ed4014}",""])},CoqM:function(t,e,a){"use strict";var n={name:"i-search",props:{value:{type:Object},title:{type:String,default:"搜索"},icon:{type:String,default:"ios-search"}}},r=a("KHd+"),s=Object(r.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("Card",{attrs:{title:this.title,icon:this.icon}},[e("Form",{ref:"formSearch",attrs:{model:this.value,inline:"","label-width":60}},[this._t("default")],2)],1)},[],!1,null,"aca4acc4",null);e.a=s.exports},CvB1:function(t,e,a){"use strict";var n=a("fr25");a.n(n).a},I3AI:function(t,e,a){var n=a("5Q8M");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},LuDj:function(t,e,a){"use strict";var n=a("3Q9P");e.a={mixins:[n.a],data:function(){return{page:{current:1,total:100},table:{columns:[],data:[]},component:{is:"",prop:null},loading:!0}},mounted:function(){var t=this;this.$nextTick(function(){t.getLists()})},methods:{pageChange:function(t){this.getLists(t)},openComponent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.component.is=t,this.component.prop=e},closeComponent:function(){this.component.is="",this.component.prop=null},openRoute:function(t,e){this.$router.push({name:t,query:e})},getLists:function(){}}}},Mtu5:function(t,e,a){"use strict";var n=a("7B4Y");a.n(n).a},PY6l:function(t,e,a){"use strict";var n={name:"i-table",props:{current:{type:Number},total:{type:Number},pageSize:{type:Number,default:15},title:{type:String,default:"列表"},icon:{type:String,default:"ios-list-box"}},methods:{change:function(t){this.$emit("on-page-change",t)}}},r=(a("Y4hK"),a("KHd+")),s=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{title:t.title,icon:t.icon}},[t._t("default"),t._v(" "),a("Page",{attrs:{current:t.current,total:t.total,"page-size":t.pageSize,"show-total":"",size:"small"},on:{"on-change":t.change}})],2)},[],!1,null,"25badb01",null);e.a=s.exports},STZu:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".express_details-box .express_details-title[data-v-001818cc]{margin-bottom:30px;text-align:center}.express_details-box .express_details-city[data-v-001818cc]{text-align:center}.express_details-box .areas-lists[data-v-001818cc]{padding:0 5px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}.express_details-box .ivu-form-item[data-v-001818cc]{height:32px}.express_details-box .item-required[data-v-001818cc]{display:inline-block;margin-right:4px;line-height:1;font-family:SimSun;font-size:12px;color:#ed4014}",""])},UqFG:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".ivu-page[data-v-25badb01]{margin-top:15px;text-align:right}",""])},Y4hK:function(t,e,a){"use strict";var n=a("fByT");a.n(n).a},fByT:function(t,e,a){var n=a("UqFG");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},fr25:function(t,e,a){var n=a("h11m");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},gQp5:function(t,e,a){"use strict";var n=a("2t7w");a.n(n).a},h11m:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".content-wrapper[data-v-29a77876]{padding:18px;overflow:auto}.content-wrapper>.ivu-card[data-v-29a77876]{margin-bottom:10px}",""])},kirq:function(t,e,a){"use strict";a.r(e);var n=a("2IPJ"),r=a("LuDj"),s=a("CoqM"),i=a("PY6l"),o=a("x91n"),l=a("lEg9");var c={name:"trigger-form-item",mixins:[{methods:{dispatch(t,e,a){let n=this.$parent||this.$root,r=n.$options.name;for(;n&&(!r||r!==t);)(n=n.$parent)&&(r=n.$options.name);n&&n.$emit.apply(n,[e].concat(a))},broadcast(t,e,a){(function t(e,a,n){this.$children.forEach(r=>{r.$options.name===e?r.$emit.apply(r,[a].concat(n)):t.apply(r,[e,a].concat([n]))})}).call(this,t,e,a)}}}],methods:{trigger:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];this.dispatch("FormItem","on-form-change",e)}},render:function(t,e){}},p={name:"create",components:{TriggerFormItem:c,IDrawer:o.a},mixins:[l.a],data:function(){return{loading:!0,create:{view:"no",status:"off",type:"piece",company_id:void 0,details:[{areas:[],first:0,first_fee:0,continue:0,continue_fee:0}]},areas:{data:[],modal:!1,index:void 0,wait:[]},companies:{data:[]},ruleValidate:{name:[{required:!0,message:"模板名称必须填写",trigger:"blur"},{type:"string",min:2,max:50,message:"模板名称字符长度是2-50个字符",trigger:"blur"}],type:[{required:!0,message:"模板类型必须选择",trigger:"change"}],status:[{required:!0,message:"模板状态必须选择",trigger:"change"}],company_id:[{trigger:"change",required:!0,type:"number",message:"快递公司必须选择"}]}}},mounted:function(){var t=this;this.$http.get("setting/express/template/create").then(function(e){t.companies.data=e.companies,t.areas.data=e.areas}).finally(function(){t.loading=!1})},methods:{submit:function(t){var e=this;this.validate(t).then(function(){e.loading=!0,e.$http.post("setting/express/template",e.create).then(function(t){e.closeDrawer(!1)}).finally(function(){e.loading=!1})})},addAreaItem:function(){this.create.details.push({areas:[],first:0,first_fee:0,continue:0,continue_fee:0})},remove:function(t){this.create.details.splice(t,1)},openAreasModal:function(t){this.areas.index=t,this.areas.wait=this.create.details[this.areas.index].areas,this.updateAreas(t),this.areas.modal=!0},render:function(t){return t.label},showAreaName:function(t){return this.areas.data.find(function(e){return e.key===t}).label},showAreaNames:function(t){var e=this;if(t.length>2)return this.showAreaName(t[0])+" 等 ".concat(t.length," 个城市");if(t.length>0){var a="";return t.forEach(function(t){a+=" "+e.showAreaName(t)+","}),a.substr(0,a.length-1)}},handleChange:function(t){this.areas.wait=t},handleChangeOk:function(){this.create.details[this.areas.index].areas=this.areas.wait,this.areas.modal=!1,this.$refs["details.areas"][this.areas.index].trigger(this.create.details[this.areas.index].areas)},updateAreas:function(t){var e=[];this.create.details.forEach(function(a,n){var r=a.areas;t!==n&&(e=e.concat(r))}),this.areas.data.map(function(t,a){e.find(function(e){return t.key===e})?t.disabled=!0:t.disabled=!1})}}},u=(a("Mtu5"),a("KHd+")),d=Object(u.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i-drawer",{attrs:{title:"添加快递模板",width:720,loading:t.loading}},[a("Form",{ref:"formCreate",attrs:{model:t.create,"label-width":100,rules:t.ruleValidate}},[a("FormItem",{attrs:{label:"模板名称",prop:"name"}},[a("Input",{model:{value:t.create.name,callback:function(e){t.$set(t.create,"name",e)},expression:"create.name"}})],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"模板类型",prop:"type"}},[a("RadioGroup",{attrs:{type:"button"},model:{value:t.create.type,callback:function(e){t.$set(t.create,"type",e)},expression:"create.type"}},[a("Radio",{attrs:{label:"piece"}},[t._v("按件收费")]),t._v(" "),a("Radio",{attrs:{label:"weigh"}},[t._v("按重量收费")])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"模板状态",prop:"status"}},[a("RadioGroup",{attrs:{type:"button"},model:{value:t.create.status,callback:function(e){t.$set(t.create,"status",e)},expression:"create.status"}},[a("Radio",{attrs:{label:"on"}},[t._v("开启")]),t._v(" "),a("Radio",{attrs:{label:"off"}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"快递公司",prop:"company_id"}},[a("Select",{model:{value:t.create.company_id,callback:function(e){t.$set(t.create,"company_id",e)},expression:"create.company_id"}},t._l(t.companies.data,function(e,n){return a("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.name)+"\n                        ")])}),1)],1)],1),t._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"模板说明",prop:"description"}},[a("Input",{attrs:{type:"textarea"},model:{value:t.create.description,callback:function(e){t.$set(t.create,"description",e)},expression:"create.description"}})],1)],1)],1),t._v(" "),a("Row",{staticClass:"express_details-box",attrs:{gutter:5}},[a("div",{staticClass:"express_details-title"},[a("Col",{attrs:{span:"6"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    地区\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    首重(件)\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    首重(件)费用\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    续重(件)\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    续重(件)费用\n                ")]),t._v(" "),a("Col",{attrs:{span:"2"}},[t._v("\n                    操作\n                    "),a("Poptip",{attrs:{placement:"top-end",width:"410",transfer:"","word-wrap":"",trigger:"hover"}},[a("span",{attrs:{slot:"content"},slot:"content"},[t._v("ceil(商品总重量(件) - 首重(件) / 续重(件)) * 续重(件)费用 = 续重(件)费用")]),t._v(" "),a("Icon",{attrs:{type:"md-alert",size:"16"}})],1)],1)],1),t._v(" "),t._l(t.create.details,function(e,n){return[a("Col",{staticClass:"express_details-city",attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"details."+n+".areas","label-width":0,rules:[{required:!0,type:"array",message:"城市必须选择",trigger:"change"}]}},[0===e.areas.length?a("Button",{attrs:{size:"small",type:"dashed"},on:{click:function(e){return t.openAreasModal(n)}}},[t._v("添加城市\n                        ")]):[a("Tooltip",{staticStyle:{width:"100%"},attrs:{placement:"top",content:"点击修改",theme:"light",transfer:""}},[a("div",{staticClass:"areas-lists",on:{click:function(e){return t.openAreasModal(n)}}},[a("span",[t._v(" "+t._s(t.showAreaNames(e.areas))+" ")])])])],t._v(" "),a("TriggerFormItem",{ref:"details.areas",refInFor:!0})],2)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".first","label-width":0,rules:[{required:!0,type:"number",message:"首重(件)必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.first,callback:function(a){t.$set(e,"first",a)},expression:"item.first"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".first_fee","label-width":0,rules:[{required:!0,type:"number",message:"首重费用必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.first_fee,callback:function(a){t.$set(e,"first_fee",a)},expression:"item.first_fee"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".continue","label-width":0,rules:[{required:!0,type:"number",message:"续重(件)必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.continue,callback:function(a){t.$set(e,"continue",a)},expression:"item.continue"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".continue_fee","label-width":0,rules:[{required:!0,type:"number",message:"首重(件)费用必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.continue_fee,callback:function(a){t.$set(e,"continue_fee",a)},expression:"item.continue_fee"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"2"}},[a("FormItem",{attrs:{"label-width":0}},[a("Button",{on:{click:function(e){return t.remove(n)}}},[t._v("删除")])],1)],1)]}),t._v(" "),a("Col",{attrs:{offset:"18",span:"6"}},[a("Button",{attrs:{long:"",size:"small",type:"dashed"},on:{click:t.addAreaItem}},[t._v("添加一行")])],1)],2)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",icon:"ios-add"},on:{click:function(e){return t.submit("formCreate")}}},[t._v("提交")])],1),t._v(" "),a("Modal",{attrs:{width:"455"},model:{value:t.areas.modal,callback:function(e){t.$set(t.areas,"modal",e)},expression:"areas.modal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("城市列表")])],1),t._v(" "),a("Transfer",{attrs:{data:t.areas.data,"target-keys":t.areas.wait,"render-format":t.render,"list-style":{height:"500px"}},on:{"on-change":t.handleChange}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.handleChangeOk}},[t._v("选择")])],1)],1)],1)},[],!1,null,"c515d694",null).exports,m={name:"update",components:{TriggerFormItem:c,IDrawer:o.a},mixins:[l.a],data:function(){return{loading:!0,update:{view:"no",status:"off",type:"piece",company_id:void 0,details:[{areas:[],first:0,first_fee:0,continue:0,continue_fee:0}]},areas:{data:[],modal:!1,index:void 0,wait:[]},companies:{data:[]},ruleValidate:{name:[{required:!0,message:"模板名称必须填写",trigger:"blur"},{type:"string",min:2,max:50,message:"模板名称字符长度是2-50个字符",trigger:"blur"}],type:[{required:!0,message:"模板类型必须选择",trigger:"change"}],status:[{required:!0,message:"模板状态必须选择",trigger:"change"}],company_id:[{trigger:"change",required:!0,type:"number",message:"快递公司必须选择"}]}}},mounted:function(){var t=this;this.$http.get("setting/express/template/".concat(this.props.id,"/edit")).then(function(e){t.companies.data=e.companies,t.areas.data=e.areas,t.update=e.row}).finally(function(){t.loading=!1})},methods:{submit:function(t){var e=this;this.validate(t).then(function(){e.loading=!0,e.$http.put("setting/express/template/".concat(e.props.id),e.update).then(function(){e.closeDrawer(!1)}).finally(function(){e.loading=!1})})},addAreaItem:function(){this.update.details.push({areas:[],first:0,first_fee:0,continue:0,continue_fee:0})},remove:function(t){this.update.details.splice(t,1)},openAreasModal:function(t){this.areas.index=t,this.areas.wait=this.update.details[this.areas.index].areas,this.updateAreas(t),this.areas.modal=!0},render:function(t){return t.label},showAreaName:function(t){return this.areas.data.find(function(e){return e.key===t}).label},showAreaNames:function(t){var e=this;if(t.length>2)return this.showAreaName(t[0])+" 等 ".concat(t.length," 个城市");if(t.length>0){var a="";return t.forEach(function(t){a+=" "+e.showAreaName(t)+","}),a.substr(0,a.length-1)}},handleChange:function(t){this.areas.wait=t},handleChangeOk:function(){this.update.details[this.areas.index].areas=this.areas.wait,this.areas.modal=!1,this.$refs["details.areas"][this.areas.index].trigger(this.update.details[this.areas.index].areas)},updateAreas:function(t){var e=[];this.update.details.forEach(function(a,n){var r=a.areas;t!==n&&(e=e.concat(r))}),this.areas.data.map(function(t,a){e.find(function(e){return t.key===e})?t.disabled=!0:t.disabled=!1})}}},f=(a("gQp5"),Object(u.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i-drawer",{attrs:{title:"添加快递模板",width:720,loading:t.loading}},[a("Form",{ref:"formUpdate",attrs:{model:t.update,"label-width":100,rules:t.ruleValidate}},[a("FormItem",{attrs:{label:"模板名称",prop:"name"}},[a("Input",{model:{value:t.update.name,callback:function(e){t.$set(t.update,"name",e)},expression:"update.name"}})],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"模板类型",prop:"type"}},[a("RadioGroup",{attrs:{type:"button"},model:{value:t.update.type,callback:function(e){t.$set(t.update,"type",e)},expression:"update.type"}},[a("Radio",{attrs:{label:"piece"}},[t._v("按件收费")]),t._v(" "),a("Radio",{attrs:{label:"weigh"}},[t._v("按重量收费")])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"模板状态",prop:"status"}},[a("RadioGroup",{attrs:{type:"button"},model:{value:t.update.status,callback:function(e){t.$set(t.update,"status",e)},expression:"update.status"}},[a("Radio",{attrs:{label:"on"}},[t._v("开启")]),t._v(" "),a("Radio",{attrs:{label:"off"}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"快递公司",prop:"company_id"}},[a("Select",{model:{value:t.update.company_id,callback:function(e){t.$set(t.update,"company_id",e)},expression:"update.company_id"}},t._l(t.companies.data,function(e,n){return a("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.name)+"\n                        ")])}),1)],1)],1),t._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"模板说明",prop:"description"}},[a("Input",{attrs:{type:"textarea"},model:{value:t.update.description,callback:function(e){t.$set(t.update,"description",e)},expression:"update.description"}})],1)],1)],1),t._v(" "),a("Row",{staticClass:"express_details-box",attrs:{gutter:5}},[a("div",{staticClass:"express_details-title"},[a("Col",{attrs:{span:"6"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    地区\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    首重(件)\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    首重(件)费用\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    续重(件)\n                ")]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"item-required"},[t._v("*")]),t._v("\n                    续重(件)费用\n                ")]),t._v(" "),a("Col",{attrs:{span:"2"}},[t._v("\n                    操作\n                    "),a("Poptip",{attrs:{placement:"top-end",width:"410",transfer:"","word-wrap":"",trigger:"hover"}},[a("span",{attrs:{slot:"content"},slot:"content"},[t._v("ceil(商品总重量(件) - 首重(件) / 续重(件)) * 续重(件)费用 = 续重(件)费用")]),t._v(" "),a("Icon",{attrs:{type:"md-alert",size:"16"}})],1)],1)],1),t._v(" "),t._l(t.update.details,function(e,n){return[a("Col",{staticClass:"express_details-city",attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"details."+n+".areas","label-width":0,rules:[{required:!0,type:"array",message:"城市必须选择",trigger:"change"}]}},[0===e.areas.length?a("Button",{attrs:{size:"small",type:"dashed"},on:{click:function(e){return t.openAreasModal(n)}}},[t._v("添加城市\n                        ")]):[a("Tooltip",{staticStyle:{width:"100%"},attrs:{placement:"top",content:"点击修改",theme:"light",transfer:""}},[a("div",{staticClass:"areas-lists",on:{click:function(e){return t.openAreasModal(n)}}},[a("span",[t._v(" "+t._s(t.showAreaNames(e.areas))+" ")])])])],t._v(" "),a("TriggerFormItem",{ref:"details.areas",refInFor:!0})],2)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".first","label-width":0,rules:[{required:!0,type:"number",message:"首重(件)必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.first,callback:function(a){t.$set(e,"first",a)},expression:"item.first"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".first_fee","label-width":0,rules:[{required:!0,type:"number",message:"首重费用必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.first_fee,callback:function(a){t.$set(e,"first_fee",a)},expression:"item.first_fee"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".continue","label-width":0,rules:[{required:!0,type:"number",message:"续重(件)必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.continue,callback:function(a){t.$set(e,"continue",a)},expression:"item.continue"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"details."+n+".continue_fee","label-width":0,rules:[{required:!0,type:"number",message:"首重(件)费用必须填写",trigger:"blur"}]}},[a("Input",{attrs:{number:""},model:{value:e.continue_fee,callback:function(a){t.$set(e,"continue_fee",a)},expression:"item.continue_fee"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"2"}},[a("FormItem",{attrs:{"label-width":0}},[a("Button",{on:{click:function(e){return t.remove(n)}}},[t._v("删除")])],1)],1)]}),t._v(" "),a("Col",{attrs:{offset:"18",span:"6"}},[a("Button",{attrs:{long:"",size:"small",type:"dashed"},on:{click:t.addAreaItem}},[t._v("添加一行")])],1)],2)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",icon:"ios-add"},on:{click:function(e){return t.submit("formUpdate")}}},[t._v("提交")])],1),t._v(" "),a("Modal",{attrs:{width:"455"},model:{value:t.areas.modal,callback:function(e){t.$set(t.areas,"modal",e)},expression:"areas.modal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("城市列表")])],1),t._v(" "),a("Transfer",{attrs:{data:t.areas.data,"target-keys":t.areas.wait,"render-format":t.render,"list-style":{height:"500px"}},on:{"on-change":t.handleChange}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.handleChangeOk}},[t._v("选择")])],1)],1)],1)},[],!1,null,"001818cc",null).exports),h={name:"index",mixins:[r.a],components:{ITable:i.a,ISearch:s.a,IContent:n.a,Create:d,Update:f},data:function(){return{table:{columns:[{title:"模板名称",slot:"name",width:150},{title:"快递公司",slot:"company_name",width:150},{title:"收费类型",slot:"type",width:100},{title:"状态",slot:"status",width:100},{title:"模板说明",slot:"description"},{title:"操作",slot:"action",width:200}]},loading:!0,search:{},companies:{data:[]}}},mounted:function(){var t=this;this.loading=!0,this.$http.get("setting/express/template/view").then(function(e){t.companies.data=e.companies}).finally(function(){t.loading=!1})},methods:{getLists:function(t){var e=this;this.loading=!0,this.$http.get("setting/express/template",{params:Object.assign({},this.search,{page:t})}).then(function(t){e.table.data=t.data,e.page.total=t.total,e.page.current=t.current_page}).finally(function(){e.loading=!1})},remove:function(t){var e=this;this.loading=!0,this.$http.delete("setting/express/template/".concat(t.id)).then(function(){e.getLists(e.page.current)}).finally(function(){e.loading=!1})}},filters:{status:function(t){return"yes"===t?"开启":"关闭"},type:function(t){return"piece"===t?"按件收费":"按重收费"},company_name:function(t){return t.name||""}}},v=Object(u.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i-content",{attrs:{"spin-show":t.loading}},[a("i-search",[a("FormItem",{attrs:{label:"模板名称"}},[a("Input",{model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"快递公司"}},[a("Select",{attrs:{clearable:""},model:{value:t.search.company_id,callback:function(e){t.$set(t.search,"company_id",e)},expression:"search.company_id"}},t._l(t.companies.data,function(e,n){return a("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":1}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.getLists(1)}}},[t._v("搜索")]),t._v(" "),a("Button",{attrs:{type:"success",icon:"ios-add"},on:{click:function(e){return t.openComponent("Create")}}},[t._v("添加")])],1)],1),t._v(" "),a("i-table",[a("Table",{attrs:{columns:t.table.columns,data:t.table.data},scopedSlots:t._u([{key:"name",fn:function(e){var n=e.row;return e.index,[a("span",[t._v(t._s(n.name))])]}},{key:"company_name",fn:function(e){var n=e.row;return e.index,[a("span",[t._v(t._s(t._f("company_name")(n.company)))])]}},{key:"description",fn:function(e){var n=e.row;return e.index,[a("span",[t._v(t._s(n.description))])]}},{key:"type",fn:function(e){var n=e.row;return e.index,[a("span",[t._v(t._s(t._f("type")(n.type)))])]}},{key:"status",fn:function(e){var n=e.row;return e.index,[a("span",[t._v(t._s(t._f("status")(n.status)))])]}},{key:"action",fn:function(e){var n=e.row;return e.index,[a("Button",{attrs:{type:"warning",size:"small"},on:{click:function(e){return t.openComponent("Update",n)}}},[t._v("编辑")]),t._v(" "),a("Poptip",{attrs:{confirm:"",title:"你确定要删除这个权限吗？"},on:{"on-ok":function(e){return t.remove(n)}}},[a("Button",{attrs:{type:"error",size:"small"}},[t._v("删除")])],1)]}}])})],1),t._v(" "),a(t.component.is,{tag:"component",attrs:{props:t.component.prop},on:{"on-close":t.closeComponent,"on-refresh":t.getLists}})],1)},[],!1,null,"f8c32116",null);e.default=v.exports},lEg9:function(t,e,a){"use strict";var n=a("3Q9P");e.a={mixins:[n.a],props:{props:null},data:function(){return{drawer:{value:!0}}},methods:{closeDrawer:function(t){!1===t&&(this.drawer.value=!1,this.drawer.props=null,this.$emit("on-close",!1),this.$emit("on-refresh"))}}}},x91n:function(t,e,a){"use strict";var n={name:"i-drawer",props:{title:{type:String,default:"弹窗"},width:{type:Number,default:720},loading:{type:Boolean,default:!1}},methods:{change:function(t){this.$parent.closeDrawer(t)}}},r=(a("5nZK"),a("KHd+")),s=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Drawer",{attrs:{title:t.title,value:!0,transfer:!1,"mask-closable":!1,width:t.width},on:{"on-visible-change":t.change}},[a("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),a("div",{staticClass:"compon-drawer-footer"},[t._t("footer")],2),t._v(" "),t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},[],!1,null,"e3944ca2",null);e.a=s.exports}}]);