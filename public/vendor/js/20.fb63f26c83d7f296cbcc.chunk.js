(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{wgoE:function(t,e,n){"use strict";n.r(e);var o=n("2IPJ"),a=n("LuDj"),i=n("CoqM"),s=n("PY6l"),r=n("CHEv"),c={name:"recycle",mixins:[a.a],components:{IContent:o.a,ITable:s.a,ISearch:i.a,Show:r.a},data:function(){return{loading:!1,table:{columns:[{title:"商品名称",key:"name",ellipsis:!0,tooltip:!0,minWidth:150},{title:"商品分类",slot:"categories",width:150},{title:"价格",key:"price",width:80},{title:"库存",key:"stock",width:80},{title:"类型",slot:"type",width:80},{title:"查看次数",key:"view",width:100},{title:"销量",key:"sales",width:80},{title:"收藏次数",key:"collect",width:100},{title:"状态",slot:"status",width:80},{title:"操作",slot:"action",width:150}]},search:{}}},methods:{getLists:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$http.get("goods/goods/recycle",{params:Object.assign({},this.search,{page:e})}).then(function(e){t.table.data=e.data,t.page.total=e.total,t.page.current=e.current_page}).finally(function(){t.loading=!1})},recovery:function(t){var e=this;this.loading=!0,this.$http.put("goods/goods/".concat(t.id,"/recycle")).then(function(){e.getLists()}).finally(function(){e.loading=!1})},remove:function(t){var e=this;this.loading=!0,this.$http.delete("goods/goods/".concat(t.id,"/recycle")).then(function(){e.getLists()}).finally(function(){e.loading=!1})},action:function(t,e){switch(t){case"recovery":this.recovery(e);break;case"recycle":this.remove(e);break;case"show":this.openComponent("Show",e)}}}},l=n("KHd+"),p=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i-content",{attrs:{"spin-show":t.loading}},[n("i-table",{attrs:{current:t.page.current,total:t.page.total},on:{"on-page-change":t.pageChange}},[n("Table",{attrs:{columns:t.table.columns,data:t.table.data},scopedSlots:t._u([{key:"categories",fn:function(e){var o=e.row;return e.index,t._l(o.categories,function(e,o){return n("span",{key:o},[t._v("\n                    "+t._s(e.name)+"\n                ")])})}},{key:"type",fn:function(e){var o=e.row;return e.index,["normal"===o.type?n("span",[t._v("正常")]):t._e(),t._v(" "),"group"===o.type?n("span",[t._v("团购")]):t._e(),t._v(" "),"seckill"===o.type?n("span",[t._v("秒杀")]):t._e()]}},{key:"status",fn:function(e){var o=e.row;return e.index,[n("span",[t._v(t._s("grounding"===o.status?"上架":"下架"))])]}},{key:"action",fn:function(e){var o=e.row;return e.index,[n("Dropdown",{on:{"on-click":function(e){return t.action(e,o)}}},[n("Button",{attrs:{type:"primary",size:"small"}},[t._v("\n                        操作\n                        "),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"show"}},[t._v("查看商品")]),t._v(" "),n("DropdownItem",{attrs:{name:"recovery"}},[t._v("恢复商品")]),t._v(" "),n("DropdownItem",{attrs:{divided:"",name:"remove"}},[t._v("删除商品")])],1)],1)]}}])})],1),t._v(" "),n(t.component.is,{tag:"component",attrs:{props:t.component.prop},on:{"on-close":t.closeComponent,"on-refresh":function(e){return t.getLists(1)}}})],1)},[],!1,null,"833a09f0",null);e.default=p.exports}}]);